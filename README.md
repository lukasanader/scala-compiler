# Fun Language Compiler: Advanced Scala Programming

A complete compiler implementation for the Fun programming language, built entirely in **Scala 3** to demonstrate advanced functional programming techniques and modern language features. This project translates Fun source code through lexical analysis, parsing, type checking, and code generation to produce LLVM IR output.

## Project Overview

This compiler serves as both a **working compilation system** and a **showcase of Scala programming**. The Fun language supports typed functional programming with imperative features including functions, conditionals, arithmetic operations, and I/O primitives.

**Compilation Pipeline:**
- **Lexical Analysis**: Regular expression-based tokenization
- **Parsing**: Parser combinator framework for syntax analysis
- **Type Checking**: Static type system with inference
- **CPS Transformation**: Continuation-passing style conversion
- **Code Generation**: LLVM IR output with optimization

**Language Features:**
- Static typing with integers, doubles, characters, and strings
- Function definitions with parameters and return types
- Conditional expressions and sequential operations
- Built-in I/O functions for printing and formatting
- Arithmetic and comparison operators

## Scala Programming

### **Modern Scala 3 Features**
Demonstrates cutting-edge Scala capabilities including extension methods, given/using parameters, improved type inference, and enhanced pattern matching throughout the compiler implementation.

### **Functional Programming Mastery**
Built entirely using functional programming principles with immutable data structures, higher-order functions, and monadic composition patterns that create an elegant, maintainable architecture.

### **Advanced Design Patterns**
- **Algebraic Data Types**: Sealed hierarchies model language constructs with compile-time exhaustiveness
- **Parser Combinators**: Compositional parsing framework showcasing internal DSL creation
- **Type-Driven Development**: Rich type system encodes compiler logic and prevents runtime errors
- **Continuation-Passing Style**: Advanced control flow transformation using functional techniques

## Usage

```bash
# Compile Fun source to LLVM IR
scala write program.fun

# This generates program.ll containing optimized LLVM IR code
```

There are examples of programs written in the Fun language that can be found in the examples directory. In addition to this LLVM IR code that has been generated by the compiler for these programms can also be found.

## Technical Highlights

**Sophisticated Regular Expression Engine**: Custom implementation with advanced features like ranges, repetition counts, and named captures, built using purely functional techniques.

**Type-Safe Parser Framework**: Monadic parser combinators that provide compile-time guarantees and elegant error handling while building complex grammars compositionally.

**Environment Management**: Immutable state handling for variable scoping, type environments, and constant tracking using Scala's collection library effectively.

**CPS Transformation**: Complete continuation-passing style conversion demonstrating advanced functional programming concepts applied to control flow analysis.

## Dependencies

- **Scala 3.x**: Modern Scala with advanced type system features
- **OS-Lib**: File system operations
- **LLVM Toolchain**: For final executable generation from generated IR

## Refrences

**King's College London**: For providing the skeleton in order to create this working compiler.
---
